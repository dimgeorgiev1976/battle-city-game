<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Battle city</title>
</head>
<body>
        <script src="engine/DisplayObject.js"></script>
        <script src="engine/Container.js"></script>
        <script src="engine/Loader.js"></script>
        <script src="engine/Renderer.js"></script>
        <script src="engine/Sprite.js"></script>
        

     <script>

        const { Loader, Renderer , Sprite, Container } = GameEngine

        let sprite = null
        // Создадем екземпляръй классу
        const loader = new Loader
        const renderer = new Renderer ({
            // Настройка размера canvas
            width: 500,
            height: 500,
            background: 'gray',
           
           
            // Функция каторая въйзеваться при каждом обновление tick
            update (timestamp) {
                // Рисоват Картинку
                if(!sprite) {
                    return
                }
               // Изменяем внутренние пареметръй sprite y фрейма по координату 
                // sprite.frame.x = sprite.textura
                //     .width / 2 + 200 * Math.cos(timestamp / 200)
                // sprite.frame.y = sprite.textura
                //     .height / 2 + 200 * Math.sin(timestamp / 200)

                // sprite.x = renderer.canvas
                //     .width / 2 + 200 * Math.cos(timestamp / 200)
                // sprite.y = renderer.canvas
                //     .height / 2 + 200 * Math.sin(timestamp / 200)
            }
        })

        // Добавляем на существующую страницу тот самой елемент каторъй мъй создали
        document.body.append(renderer.canvas)
        // Добавляем изображения в очеред каким даннъй надо згрузит с сервера
        loader.addImage('bunny', 'static/bunny.jpeg')
        // loader.addImage('newbunny', 'static/newbunny.jpeg')
        // loader.addImage('tank', 'static/tank.png')
        
        // Добавляем json
        loader.addJson('persons', 'static/persons.json')
        // Метод загрузка изображения  асинхронна и сразу въйводит
        loader.load( () => {
            // Стартовая инициализация sprite и передаем в качестве 
            // аргументе изображение
            sprite = new Sprite ( loader.getImage('bunny'), {
                // Уменшаем размер Image
                scale: 1,
                // anchorX: 0.5,
                // anchorY: 0.5
            })

            // Создайем нов контейнер
            const container = new Container () 
            // Добавляем container в stage kaтoрой тоже являеться контейнером
                renderer.stage.add(container)
            // Добавляем sprite в container 
                container.add(sprite)


            // Добавляем sprite в stage
            // renderer.stage.add(sprite)

            // Что бъй вес изображение появляеться на canvas
            sprite.absoluteX = 0
            sprite.absoluteY = 0

            // Мащаб в абсолютнъйх величине

            // sprite.frame.x = 50
            // sprite.frame.y = 50
            // sprite.frame.width = 200
            // sprite.frame.height = 170

            // sprite.width = 200
            // sprite.height = 170

            // sprite.x = 100
            // sprite.y = 300
            // sprite.width = 100
            // sprite.height = 100
        })

</script>
</body>
</html>
